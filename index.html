<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Hexo</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/15/构建工具之gulp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BubbleM">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/15/构建工具之gulp/" itemprop="url">构建工具之gulp</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-15T18:08:32+08:00">
                2017-08-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="什么是gulp"><a href="#什么是gulp" class="headerlink" title="什么是gulp"></a>什么是gulp</h2><p>gulp是一个构建工具，一个streaming构建工具，使用node.js写的．</p>
<h2 id="gulp的使用"><a href="#gulp的使用" class="headerlink" title="gulp的使用"></a>gulp的使用</h2><ol>
<li><code>npm install --save-dev gulp</code>作为项目的开发依赖来安装．</li>
<li><p>在根目录下创建文件<code>gulpfile.js</code>，即定义task的地方．</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var gulp = require(&apos;gulp&apos;);</div><div class="line"></div><div class="line">gulp.task(&apos;default&apos;, function() &#123;</div><div class="line">  // 将你的默认的任务代码放在这</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>运行gulp<br>在<code>gulpfile.js</code>所在的目录下运行<code>gulp</code>,这时候默认<code>default</code>的任务task都会被运行．<br>如果要单独执行特定的任务，运行<code>gulp &lt;task&gt; &lt;othertask&gt;</code>跟上task名称即可．<br><code>gulp</code>命令默认执行default任务，等于<code>gulp default</code>。</p>
</li>
</ol>
<h2 id="gulp的优势"><a href="#gulp的优势" class="headerlink" title="gulp的优势"></a>gulp的优势</h2><p>api简单，调用关系和依赖清晰，当然如果理解linux 管道或者其他类似的构建工具会容易.<br>而且每个任务都拆分成一个task，结构清晰，利用stream和pipe写法，组成task，也是非常容易学习的</p>
<h2 id="gulp分析"><a href="#gulp分析" class="headerlink" title="gulp分析"></a>gulp分析</h2><ol>
<li><p>多个依赖如何定义</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">gulp.task(&apos;default&apos;,[&apos;watch&apos;,&apos;task_2&apos;,&apos;task_3&apos;],function() &#123;</div><div class="line">    console.log(&apos;依赖作业终于执行完了&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>流式处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var gulp = require(&apos;gulp&apos;);</div><div class="line">var uglify = require(&apos;gulp-uglify&apos;);</div><div class="line"></div><div class="line">gulp.task(&apos;default&apos;, function() &#123;</div><div class="line">    gulp.src(&apos;src/*.js&apos;)</div><div class="line">        .pipe(uglify())   //混淆压缩js</div><div class="line">        .pipe(gulp.dest(&apos;dist&apos;))</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ol>
<p><code>gulp.task()</code>返回值为一个stream.而stream是gulp的核心<br>pipe是管道的意思，也是stream里核心概念．即：上一个的输出，是下一个的输入．<br><code>.pipe()</code>是stream的核心，不是gulp的方法<br>不需要目录路径，stream流过来的就是文件数据，只要提供文件名即可。<br>每个独立操作单元都是一个task，使用pipe来组装tasks<br><code>gulp.src()</code>是输入；<br><code>gulp.dest()</code>：用于指定文件输出位置，第一个参数为目录路径。</p>
<p>3.总结<br>1）每一个作业都是独立，定义为task<br>2）通过stream的机制，上一个的输出，作为下一个的输入<br>3）通过pipe方法组装task，完成我们想要的业务逻辑</p>
<h2 id="gulp其他命令"><a href="#gulp其他命令" class="headerlink" title="gulp其他命令"></a>gulp其他命令</h2><p><code>gulp -T</code>查看它有哪些Tasks</p>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><ol>
<li><p>请问gulp的任务都是同步顺序执行的嘛？流式是不是就代表无法异步？为什么还提到可以异步呢？</p>
<blockquote>
<p>这个原因是nodejs里的每个函数都是异步，所以pipe的好处相当于顺序执行了。gulp里的pipe链上的task都是同步顺序执行的。但pipe链外的不好说</p>
</blockquote>
</li>
<li><p>gulp 中的流程控制，如何控制顺序执行和并行执行？<br><a href="http://www.gulpjs.com.cn/docs/recipes/running-tasks-in-series/" target="_blank" rel="external">http://www.gulpjs.com.cn/docs/recipes/running-tasks-in-series/</a><br>默认情况下，任务会以最大的并发数同时运行 – 也就是说，它会不做任何等待地将所有的任务同时开起来。顺序执行就添加依赖</p>
</li>
<li><p>请问gulp和webpack区别和联系？</p>
<blockquote>
<p>2者的功能是一样的，插件也都差不多，目前看到的区别都是使用方式、扩展等方面的;gulp是标准、通用构建工具，上面基本都讲了，使用和定义、扩展都非常简单，比webpack简单的多;webpack是新贵，支持loader和plugin机制，非常强大，而且可以把所有资源bundle到一起，目前react、babel等都使用其编译，其他细节，还需要研究，目前我了解的就这些</p>
</blockquote>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/04/认证技术/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BubbleM">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/04/认证技术/" itemprop="url">认证技术</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-04T22:54:13+08:00">
                2017-08-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><p>认证技术是解决电子商务活动中安全问题的技术基础．认证采用对称密码，公钥加密，散列函数等技术为电子商务活动中的信息完整性和不可否认性以及电子商务实体的身份真实性提供技术保障．</p>
<h2 id="认证技术分类"><a href="#认证技术分类" class="headerlink" title="认证技术分类"></a>认证技术分类</h2><ul>
<li>消息认证(数据源认证)<br>用于保证信息的完整性和抗否认性</li>
<li>身份认证<br>用于鉴别用户身份．不仅是对人，还包括对服务器，计算机等机器的认证．</li>
</ul>
<h2 id="应用背景"><a href="#应用背景" class="headerlink" title="应用背景"></a>应用背景</h2><p>在网上购物和支付系统中，用户对网上商店身份的真实性更加关注，这就需要身份认证．<br>用户的个人信息(如银行帐号，身份证，密码等)和提交的购物信息未被第三方修改或伪造，并且网上商家不能抵赖，这就需要消息认证．</p>
<h2 id="身份认证"><a href="#身份认证" class="headerlink" title="身份认证"></a>身份认证</h2><p>身份认证是系统审查用户身份，从而确定该用户是否具有对某种资源的访问和使用权限．身份认证通过标识和鉴别用户的身份，提供一种判别和确认用户身份的机制．<br>验证者根据示证者出示的证件来决定示证者的身份是否满足要求．</p>
<h3 id="身份认证技术"><a href="#身份认证技术" class="headerlink" title="身份认证技术"></a>身份认证技术</h3><h4 id="基于口令的身份认证"><a href="#基于口令的身份认证" class="headerlink" title="基于口令的身份认证"></a>基于口令的身份认证</h4><ol>
<li>静态口令　<br>用户名＋密码的方式．<br>这种静态口令存在很多问题，如用户口令简单，口令明文传输，口令不变等．<br>常见的对这种认证的攻击有：网络数据流窃听，截取/重放，字典攻击，暴力破解等．</li>
<li>动态口令<br>动态口令验证的主要思路：在登录过程中加入不确定因素，使每次登录传送的认证信息不同，以提高登录过程的安全性．动态口令认证技术分为：</li>
</ol>
<ul>
<li>基于时间同步的认证技术<br>以用户登录时间作为随机因素，选择单向散列函数作为口令的生成算法，这种方式对时间准确度要求较高，一般采取分钟为变化单位．</li>
<li>基于事件同步的认证技术<br>原理是通过某一特定的事件次序及相同的种子值作为输入，在算法中运算出一致的密码．</li>
<li>挑战/应答方式的非同步认证技术<br>这种认证方式中，每个用户都持有相应的挑战/应答令牌．令牌内置种子密钥和加密算法．用户需要访问系统时，服务器随机生成一个挑战，用户将该挑战信息输入令牌，令牌根据内置密钥和加密算法计算相应的应答，用户将应答手动输入到主机再上传到服务器．</li>
</ul>
<h4 id="基于硬件令牌的认证方式"><a href="#基于硬件令牌的认证方式" class="headerlink" title="基于硬件令牌的认证方式"></a>基于硬件令牌的认证方式</h4><p>采用硬件令牌进行身份认证的技术是指通过用户随身携带身份认证令牌来进行身份认证的技术．主要的硬件设备有智能卡和目前流行的USB Key等．</p>
<h4 id="生物特征识别认证"><a href="#生物特征识别认证" class="headerlink" title="生物特征识别认证"></a>生物特征识别认证</h4><p>根据人的生物属性来达到身份认证．这种方法不能用于对网络中的其他实体(主机，机构，进程等)的认证．<br><strong>与传统身份认证技术相比，生物识别技术具有以下特点</strong><br>普遍性，唯一性，稳定性，易采集性，可接受性．</p>
<h3 id="身份认证协议"><a href="#身份认证协议" class="headerlink" title="身份认证协议"></a>身份认证协议</h3><h4 id="零知识证明身份认证协议"><a href="#零知识证明身份认证协议" class="headerlink" title="零知识证明身份认证协议"></a>零知识证明身份认证协议</h4><p>示证方P掌握某些秘密信息，P想设法让认证方V相信他确实掌握那些信息，但又不想让V也知道那些信息．<br>所谓零知识证明，指的是示证者在证明自己身份时不泄漏任何信息，验证者得不到示证者的任何私有信息，但又能有效证明对方身份的一种方法．</p>
<h4 id="Kerberos身份认证协议"><a href="#Kerberos身份认证协议" class="headerlink" title="Kerberos身份认证协议"></a>Kerberos身份认证协议</h4><h4 id="基于PKI的身份认证"><a href="#基于PKI的身份认证" class="headerlink" title="基于PKI的身份认证"></a>基于PKI的身份认证</h4><p>PKI公钥基础设施，是一种运用非对称密码技术来实施并提供安全服务的具有普适性的网络安全基础设施．<br>PKI的最基本元素是数字证书．采用证书管理公钥，通过第三方的可信任认证机构CA，把用户的公钥和用户的其他标识信息捆绑在一起，在Internet上验证用户的身份，保证网上数据的安全传输．<br><img src="http://upload-images.jianshu.io/upload_images/3188930-eb7330f01acb55ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="PKI的系统结构"><br>CA颁发证书并盖章，数字证书中包括用户身份信息和用户公钥信息记忆身份验证机构数字签名的数据．</p>
<h2 id="数字签名"><a href="#数字签名" class="headerlink" title="数字签名"></a>数字签名</h2><h3 id="数字签名原理"><a href="#数字签名原理" class="headerlink" title="数字签名原理"></a>数字签名原理</h3><p>通过一个单向函数对要传送的报文进行处理，得到用于认证报文来源并核实报文是否发送变化的一个字符串，用这个字符串来代替书写签名或印章，起到与书写签名或印章同样的法律效用．<br><strong>数字签名必须保证：</strong>接受者能够核实发送者对报文的签名；发送者事后不能抵赖对报文的签名；接受者不能伪造对报文的签名．<br>数字签名一般采用两次加密来实现，即一次加密实现签名，一次加密实现秘密通信．目前采用较多的是公钥加密技术和哈希算法相结合的方式实现签名．</p>
<h3 id="哈希函数"><a href="#哈希函数" class="headerlink" title="哈希函数"></a>哈希函数</h3><p>也称单向函数，散列函数，抗冲突散列函数，压缩函数，消息摘要函数，指纹函数．有下列特征：</p>
<ul>
<li>散列函数易于实现，对于给定的输入，输出易计算，且输出定长</li>
<li>单向性，已经散列码倒回去计算输入很困难</li>
<li>防伪造性</li>
<li>具有很好的抵抗攻击能力</li>
</ul>
<p>散列函数是公开的，对处理的过程不用保密，它的安全性来源于它的单向性．<br>常用的散列算法有：MD5，SHA-1，RIPEMD-160<br>MD5散列码长度为128b,可以在24h找到一个冲突，使得不同输入得到相同的输出．因此该函数已经过时．其他两个算法理论上需要4000年才能找到一个冲突，被认为安全性极好．</p>
<h3 id="RSA数字签名"><a href="#RSA数字签名" class="headerlink" title="RSA数字签名"></a>RSA数字签名</h3><p><img src="http://upload-images.jianshu.io/upload_images/3188930-3d0cff6ff1ceb5ed.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="RSA的签名过程"></p>
<h2 id="消息认证"><a href="#消息认证" class="headerlink" title="消息认证"></a>消息认证</h2><p>消息认证是指消息的接收者能够检验收到的消息是否真实的方法．</p>
<h3 id="消息认证的含义"><a href="#消息认证的含义" class="headerlink" title="消息认证的含义"></a>消息认证的含义</h3><ul>
<li>检验消息来源的真实，即对消息的发送者的身份进行认证</li>
<li>检验消息的完整性，即验证消息在传送或存储过程中是否被篡改，重放或延迟等．<h3 id="消息认证机制"><a href="#消息认证机制" class="headerlink" title="消息认证机制"></a>消息认证机制</h3>在对消息提供完整性检验时，根据所使用的密码算法的不同，可以分为基于对称密码体制的消息认证和基于非对称密码体制的消息认证．<h4 id="基于对称密码体制的消息认证"><a href="#基于对称密码体制的消息认证" class="headerlink" title="基于对称密码体制的消息认证"></a>基于对称密码体制的消息认证</h4>采用对称加密算法．信息的发送方将要发送的信息用共享密钥加密后传递给接受方，接收方用相同的密钥解密后得到明文信息．<br>接收方可以根据解密后的明文是否具有合理的语法结构来进行消息认证．</li>
</ul>
<h4 id="基于非对称-公开-密码体制的消息认证"><a href="#基于非对称-公开-密码体制的消息认证" class="headerlink" title="基于非对称(公开)密码体制的消息认证"></a>基于非对称(公开)密码体制的消息认证</h4><p>使用非对称加密算法．私钥直接对报文加密，加解密效率低．如果是有意义的明文，则认为消息的完整性得到保证．</p>
<h3 id="消息认证方法"><a href="#消息认证方法" class="headerlink" title="消息认证方法"></a>消息认证方法</h3><h4 id="数字签名-1"><a href="#数字签名-1" class="headerlink" title="数字签名"></a>数字签名</h4><p>数字签名就是附加在待发送信息上的一些数据，或是对信息所做的密码变换．这种数据或变换允许消息的接收者用来确认消息的来源和完整性，防止被人伪造．<br>进行数字签名最常见的处理方法是提前信息的”指纹”，通过对指纹的加密实现信息的完整性校验．消息指纹也称”摘要”.指纹的提取一般采用哈希函数(MD5，SHA)来实现．<br><img src="http://upload-images.jianshu.io/upload_images/3188930-f82017c4f57a073c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="数字签名的过程"></p>
<h4 id="消息认证码MAC"><a href="#消息认证码MAC" class="headerlink" title="消息认证码MAC"></a>消息认证码MAC</h4><p>是用来保证数据完整性的一种方法．MAC算法以密钥K(收发双方共享的密钥)和变长消息M作为输入，计算出一个定长的函数值.Ck(M)，称为消息认证码或密码校验和．<br>消息验证码是与密钥相关的单向杂凑函数．MAC与其他单向函数不同的是，它包括一个密钥，不同的密钥会产生不同的密码校验和，这样就能同时验证消息完整性和消息来源的真实性．<br><img src="http://upload-images.jianshu.io/upload_images/3188930-a4ae20174c77ffb0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="MAC的完整性校验过程"></p>
<h3 id="数字时间戳服务DTS"><a href="#数字时间戳服务DTS" class="headerlink" title="数字时间戳服务DTS"></a>数字时间戳服务DTS</h3><p>时间戳是一个经过加密后形成的凭证文档，它包括需加时间戳的文件的摘要，DTS收到文件的日期和时间，DTS的数字签名三个部分．</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/04/信息加密技术/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BubbleM">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/04/信息加密技术/" itemprop="url">信息加密技术</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-04T18:10:34+08:00">
                2017-08-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>信息加密技术是电子商务的核心．在一次网购活动中，消费者通常要将卡号和口令提供给商家，申请购物，消费者带有卡号和口令的订单在传送到商家的过程中，<em>保证消费者敏感信息的保密性的任务要由密码技术来完成</em>；同时在支付时还要对交易双方的身份进行认证，这要用到<em>数字签名和认证技术．</em></p>
<h2 id="密码技术的发展"><a href="#密码技术的发展" class="headerlink" title="密码技术的发展"></a>密码技术的发展</h2><p>大致分为三个阶段：</p>
<ul>
<li>古代加密方法<br>古代的行帮暗语和一些文字猜谜游戏，实际上就是对信息的加密．通过原始的约定，把需要表达的信息限定在一定范围内流通，属于较原始的古代加密方法．</li>
<li>古典密码<br>古典密码的加密方法主要有文字置换，使用手工或机械变换的方式实现．<br>古典密码的代表密码算法主要有：单表代替密码，多表代替密码，转轮密码．</li>
<li>近现代密码学<br>密码学与数据库技术，计算机网络，计算机软硬件知识联系紧密．</li>
</ul>
<h2 id="密码技术的基本知识"><a href="#密码技术的基本知识" class="headerlink" title="密码技术的基本知识"></a>密码技术的基本知识</h2><h3 id="密码学"><a href="#密码学" class="headerlink" title="密码学"></a>密码学</h3><p>密码学主要是研究通信安全保密的学科，它包括两个分支，它们相互对立又相互促进：</p>
<ul>
<li>密码编码学<br>密码编码学主要研究对信息进行变换，以保护信息在信道的传递过程中不被窃取，解读和利用的方法．</li>
<li>密码分析学<br>密码分析学主要研究如何分析和破译密码．</li>
</ul>
<h3 id="密码系统"><a href="#密码系统" class="headerlink" title="密码系统"></a>密码系统</h3><p>一个<strong>密码系统</strong>由明文(Message)空间，密文(Cipher)空间，密码方案(E(X)加密，Ｄ(X)解密)和密钥(Key)空间组成．</p>
<h3 id="密码体制的分类"><a href="#密码体制的分类" class="headerlink" title="密码体制的分类"></a>密码体制的分类</h3><ul>
<li>根据密码的发展历史：古典密码和近现代密码</li>
<li>根据加密算法和解密算法所使用的密钥是否相同：对称密钥密码体制（单钥/秘密密钥密码体制），非对称密钥密码体制(双钥/公开密钥密码体制)<br><strong>对称密钥密码体制</strong>：一个密码系统的加密密钥和解密密钥相同，或者虽然不相同，但由其中的任意一个密钥可以很容易地推导出另外一个．如：A5，SEAL，DES，IDEA，RC5，AES<br><strong>非对称密钥密码体制</strong>：每个用户都有一对选定的密钥，公钥和私钥．如：RAS，ElGamal，椭圆曲线密码等</li>
<li>根据密码算法对明文信息的加密方式：流密码和分组密码<br><strong>流密码</strong>：逐位地加密明文消息字符，如A5，SEAL<br><strong>分组密码</strong>：将明文消息分组，逐组进行加密，如：DES，IDES，RC5，AES</li>
<li>按照加密变换是否可逆：单向函数密码和双向变换密码<br><strong>单向函数</strong>：一类特殊的密码体制，其性质是可以容易地把明文转换为密码，但再把密文转换成原来的明文却是困难的．典型的单向函数有：MD4，MD5，SHA-1等．</li>
</ul>
<h2 id="密码分析"><a href="#密码分析" class="headerlink" title="密码分析"></a>密码分析</h2><p>一个密码系统的实际安全性牵涉到两方面因素：</p>
<ul>
<li>所使用的密码算法的保密强度</li>
<li>密码算法以外不安全的因素</li>
</ul>
<h3 id="常见的密码攻击分类"><a href="#常见的密码攻击分类" class="headerlink" title="常见的密码攻击分类"></a>常见的密码攻击分类</h3><ul>
<li>唯密文攻击<br>分析者有一个或一些密文</li>
<li>已知明文攻击<br>分析者有一些明文及对应的密文</li>
<li>选择明文攻击<br>分析者选择一些对攻击有利的特定明文，并产生对应的密文</li>
<li>选择密文攻击<br>分析者选择一些对攻击有利的特定密文，并得到对应的明文</li>
</ul>
<p>四类攻击类型的强度按序递增．</p>
<h2 id="对称密码体制"><a href="#对称密码体制" class="headerlink" title="对称密码体制"></a>对称密码体制</h2><h3 id="理论基础"><a href="#理论基础" class="headerlink" title="理论基础"></a>理论基础</h3><p>这种体制只要知道加(解)密算法，就可以反推解(加)密算法．<br>优点：具有很高的保密强度，可以达到经受国家级破译力量的分析和攻击．<br>缺点：密钥必须通过安全可靠的途径传递，密钥管理成为影响系统安全的关键性因素，使它难以满足系统的开放性要求．</p>
<h3 id="对称密码体制的分类"><a href="#对称密码体制的分类" class="headerlink" title="对称密码体制的分类"></a>对称密码体制的分类</h3><p>按照对明文数据的加密方式不同，可以分为：</p>
<ul>
<li>流密码(系列密码)Stream Cipher<br>密钥流(序列密码)由种子密钥通过密钥流生成器得到的</li>
<li>分组密码Block Cipher<br>加密和解密密钥相同，分组密码的安全性主要依赖于密钥，而不依赖对加密算法和解密算法的保密．因此，分组密码的加密和解密算法可以公开．</li>
</ul>
<h3 id="流密码"><a href="#流密码" class="headerlink" title="流密码"></a>流密码</h3><p>流密码体制的密钥流和明文流相互独立，我们称之为<em>同步流密码</em>，传输时某一个符号的传输错误不会影响到后面的符号的解密．<br>密钥流与明文流不相互独立，称<em>自同步(异步)流密码</em>．有错误传播现象．<br><img src="http://upload-images.jianshu.io/upload_images/3188930-8480d3812762885f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="二进制流密码体制模型"></p>
<h3 id="分组密码"><a href="#分组密码" class="headerlink" title="分组密码"></a>分组密码</h3><h4 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h4><p>广泛应用于数据的保密传输，加密存储等．分组密码的安全性依赖于密钥，而不依赖于对加密算法和解密算法的保密．因此，分组密码的加解密算法可以公开．典型代表是DES和AES算法．<br><strong>一般情况下对密码算法有以下要求：</strong></p>
<ul>
<li>分组长度m足够大</li>
<li>密钥空间足够大</li>
<li>密码变换必须足够复杂</li>
</ul>
<h4 id="基本指导原则"><a href="#基本指导原则" class="headerlink" title="基本指导原则"></a>基本指导原则</h4><p>实际设计中，分组密码设计的<strong>基本指导原则</strong>采用香农建议的扩散和混乱．</p>
<ul>
<li>扩散<br>作用是一方面将每一位明文的影响尽可能迅速地扩散到较多的密文位中去，另一方面使每一位密钥的影响也尽可能迅速地扩展到较多的密文位中去，以便隐藏明文的统计特性．<br>目的是使密文中的任一比特都要尽可能与明文，密钥相关联．</li>
<li>混乱<br>指密文和明文之间的统计特性的关系尽可能地复杂化．</li>
</ul>
<h4 id="AES加密原理"><a href="#AES加密原理" class="headerlink" title="AES加密原理"></a>AES加密原理</h4><p>密钥长度有128，192，256比特位三种，其密钥长度分别为N = ４,6,8个字(双字)．数据处理单元是字节．加密算法每一轮由4步操作构成：</p>
<ul>
<li>字节代换运算</li>
<li>行移位变换</li>
<li>列混合变换</li>
<li>轮密钥的混合变换</li>
</ul>
<h4 id="AES取代DES的原因"><a href="#AES取代DES的原因" class="headerlink" title="AES取代DES的原因"></a>AES取代DES的原因</h4><ul>
<li>DES密钥长度为68比特，小的密钥空间对像穷举密钥这样的攻击显得太小了．相比AES明显提高了加密的安全性，对于不同机密级别的信息，可采用不同长度的密钥，执行灵活性更高．</li>
<li>在DES中，存在弱密钥和半弱密钥．对初始密钥的选取有一定的限制．AES由于密钥扩展函数的特点，所产生的轮密钥随机性很强，对初始密钥的选取没有特别的限制．</li>
<li>DES加密算法存在互补对称性，会使得在选择明文攻击下所需的工作量减半．而AES的均衡对称结构既可以提高执行的灵活度，又可防止差分分析方法的攻击．</li>
<li>AES算法的实现更简单．</li>
</ul>
<h2 id="非对称密码体制"><a href="#非对称密码体制" class="headerlink" title="非对称密码体制"></a>非对称密码体制</h2><h3 id="产生背景"><a href="#产生背景" class="headerlink" title="产生背景"></a>产生背景</h3><p>使用对称密码体制进行秘密通信，任意两个用户之间都会使用一个密钥．这样，如果一个网络中有n个用户，他们之间如果两两进行秘密通信的话，那么这个网络中共需要n(n-1)/2个密钥．其中，每个用户都需要保存n-1个密钥，这样大的密钥量给密钥分配，管理和使用带来很大的不便．而且，对称密码体制不能很好的解决身份认证和数字签名等问题．</p>
<h3 id="理论基础-1"><a href="#理论基础-1" class="headerlink" title="理论基础"></a>理论基础</h3><p>公钥和私钥都既可以做加密密钥，也可做解密密钥．公钥密码体制中每个用户都分别拥有两个密钥：公钥和私钥，并且攻击者想要由公钥得到私钥在计算上是不可行的．<br><img src="http://upload-images.jianshu.io/upload_images/3188930-e187ff33bc2faeaf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="非对称密码体制加解密过程图"><br>用户A使用用户Ｂ的公钥对明文Ｍ进行加密得到密文Ｃ<br>用户Ｂ收到密文后使用自己的私钥对C进行解密得到明文Ｍ</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/31/数据类型/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BubbleM">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/31/数据类型/" itemprop="url">数据类型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-31T15:25:36+08:00">
                2017-07-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="JS数据类型"><a href="#JS数据类型" class="headerlink" title="JS数据类型"></a>JS数据类型</h2><h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><p>指的是简单的数据段 <strong>按值访问</strong></p>
<ul>
<li>Undefined</li>
<li>Null</li>
<li>数值型Nubmer</li>
<li>字符串String</li>
<li>布尔型Boolean</li>
<li><strong>表独一无二的值Symbol</strong> ES6引入的一种新的数据类型</li>
</ul>
<h3 id="引用类型"><a href="#引用类型" class="headerlink" title="引用类型"></a>引用类型</h3><p>指那些可能由多个值构成的对象。是保持在内存中的对象。<strong>按引用访问</strong><br>引用类型的复制其实是一个指针，指向存储在堆中的同一个对象。</p>
<ul>
<li>对象Object（特殊的对象—函数function）</li>
<li>数组Array（有序的集合）</li>
</ul>
<h3 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h3><p>１．保存方式不同，一个存值，一个存地址<br>２．在从一个变量向另一个变量复制基本类型值和引用类型值时，也存在不同．<br>如果复制基本类型值，会在变量对象上创建一个新值，然后把值复制到为新变量分配的位置上;<code>var num1 = 5; var num2=num1;</code>num1和num2保存的都是５，num2的值只是num1中５的一个副本，但是它们是完全独立的，这两个变量可以参与任何操作而不会相互影响．<br>如果复制引用类型值，同样也将存储在变量对象中的值复制一份放到为新变量分配的空间中．不同的是，这个值的副本实际上是一个指针，指向存储在堆中的一个对象．复制操作结束后，两个变量实际上将引用同一个对象．</p>
<h3 id="Symbol类型"><a href="#Symbol类型" class="headerlink" title="Symbol类型"></a>Symbol类型</h3><ol>
<li><p>不能使用New命令</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> s = <span class="built_in">Symbol</span>();</div><div class="line"><span class="keyword">typeof</span>(s);  <span class="comment">// 'symbol'  表示s是一个独一无二的值</span></div></pre></td></tr></table></figure>
</li>
<li><p>可以接受一个字符串作为参数，表示对Symbol实例的描述；参数仅表示对当前Symbol值的描述，因此相同参数的Symbol函数的返回值是不相等的．</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>(<span class="string">'foo'</span>);</div><div class="line">s1  <span class="comment">// Symbol(foo) 主要为了在控制台显示或转为字符串时比较容易区分</span></div></pre></td></tr></table></figure>
</li>
<li><p>Symbol值不能与其他类型的值进行运算，否则会报错．</p>
</li>
<li><p>Symbol值可转为字符串，可转为布尔值，但不能转为数值．</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt; var sym = Symbol(&apos;My symbol&apos;);</div><div class="line">undefined</div><div class="line">&gt; String(sym)</div><div class="line">&apos;Symbol(My symbol)&apos;</div><div class="line">&gt; sym.toString()</div><div class="line">&apos;Symbol(My symbol)&apos;</div><div class="line">&gt; Boolean(sym)</div><div class="line">true</div></pre></td></tr></table></figure>
</li>
<li><p>如果希望使用同一个Symbol值，可以使用<code>var s1 = Symbol.for(&#39;foo&#39;);</code></p>
</li>
<li>Symbol值作为对象属性名时不能使用点运算符．在对象内部定义属性时，Symbol值必须放在方括号中．<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let s = Symbol();</div><div class="line">let obj = &#123;</div><div class="line">  [s]: function()&#123; ... &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<p>primitive数据类型有：byte\short\int\long\float\double\char</p>
<hr>
<p><em>访问变量有按值和按引用，但所有函数的参数都是按值传递。</em><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj1 = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line"><span class="keyword">var</span> obj2 = obj1;</div><div class="line">obj1.name = <span class="string">"Nichole"</span>;</div><div class="line">alert(obj2.name); <span class="comment">//Ｎichole 说明引用类型值的复制是按引用传递．</span></div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">	obj.name = <span class="string">"Nichole"</span>;</div><div class="line">	obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">	obj.name = <span class="string">"Greg"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">setName(person);</div><div class="line">print(person.name);<span class="comment">//Nichole</span></div></pre></td></tr></table></figure>
<p>即使在函数内部修改了参数的值，但原始引用依然保持未变。实际上，当在函数内部重写obj时,这个变量引用的就是一个局部对象了。而这个局部对象会在函数执行完毕后立即被销毁。</p>
<h2 id="检测数据类型"><a href="#检测数据类型" class="headerlink" title="检测数据类型"></a>检测数据类型</h2><h3 id="检测数据类型方式"><a href="#检测数据类型方式" class="headerlink" title="检测数据类型方式"></a>检测数据类型方式</h3><ul>
<li>检测基本数据类型用typeof<br>使用typeof检测函数时会返回function</li>
<li>检测引用类型的值用instanceof 可以知道它是什么类型的对象 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print(person <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//true</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>检测一个变量是否是String类型<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">if(typeof str == &quot;string&quot; || str.constructor == String)&#123;...&#125;</div></pre></td></tr></table></figure></p>
<h3 id="typeof的返回值"><a href="#typeof的返回值" class="headerlink" title="typeof的返回值"></a>typeof的返回值</h3><p>typeof会返回undefined，function，object，string，number，boolean<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">print(typeof(null)); //object</div><div class="line">print(typeof(undefined)); //undefined</div><div class="line">print(typeof(NaN)); //number</div><div class="line">print(typeof(NaN == undefined)); //boolean</div></pre></td></tr></table></figure></p>
<h3 id="typeof-和-instanceof的区别"><a href="#typeof-和-instanceof的区别" class="headerlink" title="typeof 和 instanceof的区别"></a>typeof 和 instanceof的区别</h3><p>typeof返回一个字符串，用于说明类型<br>instanceof判断一个变量是否是某个对象(类)的实例，返回值是布尔类型</p>
<p><strong>系统对象的属性是只读的</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var a = (Math.PI++);</div><div class="line">print(a);//3.141592653589793</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/31/Web安全/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BubbleM">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/31/Web安全/" itemprop="url">Web安全</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-31T09:03:12+08:00">
                2017-07-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>所谓<strong>攻击</strong>，即黑客利用网站操作系统的漏洞和Web服务程序的SQL注入漏洞等得到Web服务器的控制权限，轻则篡改网页内容，重则窃取重要内部数据，更为严重的则是在网页中植入恶意代码，使得网站访问者受到侵害。</p>
<p><strong>常见的Ｗeb攻击技术：</strong></p>
<ol>
<li>XSS（Cross-Site Scripting，跨站脚本攻击）：指通过在存在安全漏洞的Web网站注册用户的浏览器内运行非法的HTML标签或JavaScript进行的一种攻击．<strong>重点是跨域和客户端执行</strong></li>
<li>SQL注入攻击</li>
<li>CSRF（Cross-Site Request Forgeries，跨站点请求伪造）：指攻击者通过设置好的陷阱，强制对已完成的认证用户进行非预期的个人信息或设定信息等某些状态更新．<br>CSRF的核心就是请求伪造，通过伪造身份提交POST和GET请求来进行跨域的攻击。完成CSRF需要两个步骤：</li>
</ol>
<ul>
<li>登陆受信任的网站A，在本地生成cookie</li>
<li>在不登出A的情况下，或者本地cookie没有过期的情况下，访问危险网站B</li>
</ul>
<h2 id="1-XSS的原理"><a href="#1-XSS的原理" class="headerlink" title="1. XSS的原理"></a>1. XSS的原理</h2><p>XSS其实就是Html的注入问题，攻击者的输入没有经过严格的控制进入了数据库，最终显示给来访的用户，导致可以在来访用户的浏览器里以浏览用户的身份执行Html代码，数据流程如下：攻击者的Html输入—&gt;web程序—&gt;进入数据库—&gt;web程序—&gt;用户浏览器。</p>
<h2 id="2-XSS的攻击方式"><a href="#2-XSS的攻击方式" class="headerlink" title="2. XSS的攻击方式"></a>2. XSS的攻击方式</h2><p>1.反射型 Reflected XSS<br>发出请求时，XSS代码出现在URL中，作为输入提交到服务器端，服务器端解析后响应，XSS代码随响应内容一起传回给浏览器，最后浏览器解析执行XSS代码。这个过程像一次反射，故叫反射型。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  res.set(<span class="string">'X-XSS-Protection'</span>,<span class="number">0</span>);<span class="comment">//禁止浏览器对XSS进行拦截</span></div><div class="line">  res.render(<span class="string">'index'</span>, &#123; <span class="attr">title</span>: <span class="string">'Express'</span>,<span class="attr">xss</span>:req.query.xss&#125;);<span class="comment">//获取url中的参数做解析xss</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">title</span> %&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Welcome to <span class="tag">&lt;<span class="name">%=</span> <span class="attr">title</span> %&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span></div><div class="line">    	<span class="tag">&lt;<span class="name">%-</span> <span class="attr">xss</span> %&gt;</span> <span class="comment">&lt;!--执行xss脚本--&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>浏览器地址栏输入格式如<code>http://localhost:3000/?xss=&#39; &#39;</code></p>
<ul>
<li>输入xss等于一个<img>标签，图片会显示在页面中  弹出1<br><img src="http://upload-images.jianshu.io/upload_images/3188930-100348c70eed509f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img攻击.png"></li>
<li>如果xss脚本是一iframe，可以植入广告<br><img src="http://upload-images.jianshu.io/upload_images/3188930-f09aee07a28cea33.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="iframe.png"></li>
</ul>
<p>2.存储型 Stored XSS<br>存储型XSS和反射型XSS的差别仅在于，提交的代码会存储在服务器端(数据库、内存、文件系统等)，下次请求目标页面时不用再次提交XSS代码。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">res.render(<span class="string">'index'</span>, &#123; <span class="attr">title</span>: <span class="string">'Express'</span>,<span class="attr">xss</span>:sql()&#125;);<span class="comment">//sql语句操作</span></div></pre></td></tr></table></figure></p>
<p>3.基于DOM或本地的XSS攻击  DOM-based or local XSS<br>一般是提供一个免费的wifi，但是提供免费wifi的网关会往你访问的任何页面插入一段脚本或者直接返回一个钓鱼页面，从而植入恶意脚本。这种直接存在于页面，无须经过服务器返回就是基于本地的XSS攻击。</p>
<h2 id="3-XSS的防御措施"><a href="#3-XSS的防御措施" class="headerlink" title="3. XSS的防御措施"></a>3. XSS的防御措施</h2><ol>
<li>编码<br>对用户输入的数据进行HTML Entity编码</li>
<li>过滤<br>移除用户上传的DOM属性，如onerror等<br>移除用户上传的Style节点、Script节点、Iframe节点等。</li>
<li>校正<br>避免直接对HTML Entity解码<br>使用DOM Parse转换，校正不配对的DOM标签</li>
</ol>
<h2 id="4-攻击目的和手段"><a href="#4-攻击目的和手段" class="headerlink" title="4. 攻击目的和手段"></a>4. 攻击目的和手段</h2><p>攻击者使被攻击者在浏览器中执行脚本后，如果需要收集来自被攻击者的数据(如cookie或其他敏感信息)，可以自行架设一个网站，让被攻击者通过JavaScript等方式把收集好的数据作为参数提交，随后以数据库等形式记录在攻击者自己的服务器上。</p>
<ol>
<li>盗用 cookie ，获取敏感信息。</li>
<li>利用植入 Flash ，通过 crossdomain 权限设置进一步获取更高权限;或者利用Java等得到类似的操作。</li>
<li>利用 iframe、frame、XMLHttpRequest或上述Flash等方式，以(被攻击)用户的身份执行一些管理动作，或执行一些一般的如发微博、加好友、发私信等操作。</li>
<li>利用可被攻击的域受到其他域信任的特点，以受信任来源的身份请求一些平时不允许的操作，如进行不当的投票活动。</li>
<li>在访问量极大的一些页面上的XSS可以攻击一些小型网站，实现DDoS攻击的效果。</li>
<li>破坏页面正常结构，插入恶意内容．</li>
</ol>
<h2 id="5-模仿XSS攻击"><a href="#5-模仿XSS攻击" class="headerlink" title="5. 模仿XSS攻击"></a>5. 模仿XSS攻击</h2><p><a href="https://github.com/BubbleM/xss_demo" target="_blank" rel="external">https://github.com/BubbleM/xss_demo</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/28/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BubbleM">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/28/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-28T23:32:33+08:00">
                2017-07-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="BubbleM" />
          <p class="site-author-name" itemprop="name">BubbleM</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">BubbleM</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
